## Ansible Integration with ACM

Install Ansible Automation Platform Operator

* configuration of Controller
* Subscription to AAP
* Generate Token
* in ACM: Generate Secret
* in ACM Generate Policy which references the Secret and Selects the correct Job

#### Steps

On ACM Hub OCP 

----
kubectl apply -f https://raw.githubusercontent.com/ch-stark/install-aap/main/inputresources/installoperator.yaml
----

image::./images/acm-ansible-1.png[][Ansible Namespace]

image::./images/acm-ansible-2.png[][Ansible Operator]

----
kubectl apply -f https://raw.githubusercontent.com/ch-stark/install-aap/main/inputresources/automation-controller.yaml
----

image::./images/acm-ansible-3.png[][Ansible Pods]



#### Supporting Documentation (that is wrong)

https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.1/html/red_hat_ansible_automation_platform_operator_installation_guide/assembly-install-aap-operator


https://access.redhat.com/documentation/en-us/red_hat_advanced_cluster_management_for_kubernetes/2.4/html/clusters/managing-your-clusters#ansible-config-cluster


https://access.redhat.com/documentation/en-us/red_hat_advanced_cluster_management_for_kubernetes/2.4/html/applications/index#setting-up-ansible


